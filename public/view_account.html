<!DOCTYPE html>
<html>
	<header>
		<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src = "/javascript/view_account.js"></script>
		<script type="text/javascript">
		var id;
		
	    function init() { 
			var matches = /id=([^&#=]*)/.exec(window.location.search);
			id = matches[1];
			angular.element(document.getElementById('main')).scope().getData(id);
			//replaceTextboxValue();
			//clear();
	    }
		
	    function update(){
	    	if (validate() && validateMobile() && validateCongenital() && validateStreet() && validateDistrict() && validateState() && validatePostcode() && validateCountry() && validateParent() && validateParentPhone() && validateParentIncome() &&  validateParent2() && validateParentPhone2())
	    	{
	    		angular.element(document.getElementById('main')).scope().updateData(id);
	    	}
	    }
	    
	    function loadTitle(){
	    	document.getElementById("myTitle").value = angular.element(document.getElementById('main')).scope().account.title_th__c;
	    }
	    
	    function changeTitle() {
	        var x = document.getElementById("myTitle").value;
	        angular.element(document.getElementById('main')).scope().account.title_th__c = x;
	    }
	    
		</script>
		
		<script type="text/javascript">
    				
			function checkNum(value) {
				
				if (isNaN(parseFloat(value))) {
					//alert("Please output number again.");
					return "";
				}
				
				return value;
			}
						
			function redirect() {
				document.forms[0].target = "_blank";
			}
			
			function validateEmail(myEmail) {
			  var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			  //alert(re.test(myEmail));
			  return re.test(myEmail);
			}

			function validate() {
			  $("#result").text("");
			  var myEmail = $("#myEmail").val();
			  if (validateEmail(myEmail)) {
			    $("#result").text(myEmail + " is valid :)");
			    $("#result").css("color", "green");
			  } else {
			    $("#result").text(myEmail + " is not valid :(");
			    $("#result").css("color", "red");
			  }
			  return false;
			}

			$("#validate").bind("click", validate);
			
			function isNumber(field) {
	            var re = /^[0-9.]*$/;
	            if (!re.test(field.value)) {
	                //alert("Input number only!!");
	                field.value = field.value.replace(/[^0-9.]/g, "");
	            }
	        }
			
			function validateMobile() {
			
				var mobile = document.getElementById("myPhone");
				
				if (mobile == "") {
					document.getElementById("mobileResult").innerHTML = "You must enter a Mobile No";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateCongenital() {
				
				var disease = document.getElementById("disease");
				
				if (disease == "") {
					document.getElementById("diseaseResult").innerHTML = "You must enter a Congenital disease";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateStreet() {
				
				var street = document.getElementById("street");
				
				if (disease == "") {
					document.getElementById("streetResult").innerHTML = "You must enter a No. / Soi / Road";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateDistrict() {
				
				var city = document.getElementById("city");
				
				if (disease == "") {
					document.getElementById("cityResult").innerHTML = "You must enter a District";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateState() {
				
				var state = document.getElementById("state");
				
				if (state == "") {
					document.getElementById("stateResult").innerHTML = "You must enter a Province";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validatePostcode() {
				
				var postcode = document.getElementById("postcode");
				
				if (postcode == "") {
					document.getElementById("postcodeResult").innerHTML = "You must enter a Post Code";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateCountry() {
				
				var country = document.getElementById("country");
				
				if (country == "") {
					document.getElementById("countryResult").innerHTML = "You must enter a Country";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateParent() {
				
				var parent = document.getElementById("parent");
				
				if (parent == "") {
					document.getElementById("parentResult").innerHTML = "You must enter a Parent Name";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateParentPhone() {
				
				var parentPhone = document.getElementById("parentPhone");
				
				if (parentPhone == "") {
					document.getElementById("parentPhoneResult").innerHTML = "You must enter a Parent Phone";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateParentIncome() {
				
				var parentIncome = document.getElementById("parentIncome");
				
				if (parentIncome == "") {
					document.getElementById("parentIncomeResult").innerHTML = "You must enter a Parent Income";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateParent2() {
				
				var parent2 = document.getElementById("parent2");
				
				if (parent2 == "") {
					document.getElementById("parent2Result").innerHTML = "You must enter a Parent Name(2)";
					return false;
				} else {
					return true;
				}
			
			}
			
			function validateParentPhone2() {
				
				var parentPhone2 = document.getElementById("parentPhone2");
				
				if (parentPhone2 == "") {
					document.getElementById("parentPhone2Result").innerHTML = "You must enter a Parent Phone(2)";
					return false;
				} else {
					return true;
				}
			
			}
			
		</script>
		
		<style type="Text/css">
			.myclass {
				text-transform:uppercase!important;
			}
			
			.CustomLayout1 {
			width : 49%;
			}
			
			.CustomLayout2 {
			//background-color: lightblue;  
			padding-top:5px; 
			}
		
		</style>
				
	</header>
	<body id="main" onload="init();" ng-app="accountApp" ng-controller="mainController">
        
        <div>
            <table style="width:100%">
                <tr>
                    <td colspan ="3" align="center" >
                  
                    </td>
                </tr>
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
                <!-- Student Information -->
                
                <tr style="background-color: #C80000">
                    <td colspan="3" align="left">
                        <b style="color:white">Student Information / ข้อมูลของนักศึกษาผู้จอง</b>
                    </td>
                </tr>
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
                <tr>
                
                    <td align="center"><table style="width:100%">
                    
                        <tr>
                            <td align="right" class='CustomLayout1' >
                                ID Cards / หมายเลขประชาชน
                            </td>
                            <td> : </td>
                            <td class='CustomLayout1'>
                                <label id="identity">{{ account.identification_number__c }}</label>
                            </td>                            
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Passport No.
                            </td>
                            <td> : </td>
                            <td>
                            	<label id="passport">{{ account.passport_number__c }}</label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Sex /เพศ
                            </td>
                            <td> : </td>
                            <td>
                            	<label id="gender">{{ account.gender__c }}</label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                           		  คำนำหน้าชื่อ
                            </td>
                            <td> : </td>
                            <td>
						<label id="titleTH">{{ account.title_th__c }}</label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right" class="CustomLayout2" >
                                Student Name-Surname/ชื่อ-สกุลนักศึกษา (Thi)
                            </td>
                            <td class="CustomLayout2"> : </td>
                            <td>
                                <Table style="margin-left:-3px;">
                                    <tr>
                                        <td>
                                        	<label id="nameTH">{{ account.first_name_th__c }}</label>
                                        </td>
                                        <td>
                                        	<label id="nameTH">{{ account.last_name_th__c }}</label>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right" class="CustomLayout2">
                                Title
                            </td>
                            <td class="CustomLayout2"> : </td>
                            <td>
                            	<label id="titleEN">{{ account.salutation }}</label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right" class="CustomLayout2">
                                Student Name-surname/ชื่อ-สกุลนักศึกษา (Eng)
                            </td>
                            <td class="CustomLayout2"> : </td>
                            <td>
                                <Table style="margin-left:-3px;">
                                    <tr>
                                        <td>
                                        	<label id="nameEN">{{ account.firstname }}</label>
                                        </td>
                                        <td>
                                        	<label id="nameEN">{{ account.lastname }}</label>
                                        </td>
                                    </tr>
                                </Table>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Birthdate /วันเกิด
                            </td>
                            <td> : </td>
                            <td>
                                <label id="request"> {{ account.Birthdate__c }} </label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Mobile No/เบอร์โทร
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="myPhone" ng-model="account.personmobilephone" onkeyup="isNumber(this)">
                                <label id='mobileResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Email /อีเมลล์
                            </td>
                            <td> : </td>
                            <td>
                                 <input type="text" id="myEmail" ng-model="account.personemail">
                                 <label id='result'></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Congenital disease /โรคประจำตัว
                            </td>
                            <td> : </td>
                            <td>
                                 <input type="text" id="disease" ng-model="account.congenital_disease__c">
                                 <label id='diseaseResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Student ID /รหัสนักศึกษา
                            </td>
                            <td> : </td>
                            <td>
                            	<label id="studentId">{{ account.student_id__c }}</label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Faculty /คณะ
                            </td>
                            <td> : </td>
                            <td>
                            	<label id="faculty">{{ account.faculty__c }}</label>
                            </td>
                        </tr>
                        <!--
                        <tr>
                            <td align="right">
                                Year /ปีการศึกษา
                            </td>
                            <td> : </td>
                            <td>
                                <label id="request"> {{ account.Year__c }} </label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Term /ภาคการศึกษา
                            </td>
                            <td> : </td>
                            <td>
                                <label id="request"> {{ account.Term__c }} </label>
                            </td>
                        </tr>
                         -->
                        <tr>
                            <td align="right">
                                Request Zone /เลือกโซน
                            </td>
                            <td> : </td>
                            <td>
                            	<label id="request">{{ account.request_zone__c }}</label>
                            </td>
                        </tr>
                        
                        <!-- <tr>
                            <td align="right">
                                Request Zone Reserve/เลือกโซนสำรอง
                            </td>
                            <td> : </td>
                            <td>
                                <apex:outputField value="{!theAccount.Request_Zone_Reserve__c}" />
                            </td>
                        </tr> -->
                    
                    </table></td>
                    
                </tr>
                
                <!-- Student Information -->
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
            </table>
            
            <table style="width:100%">
                
                <!-- Address Information -->
                
                <tr style="background-color: #C80000">
                    <td colspan="3" align="left">
                        <b style="color:white">Address Information / ข้อมูลที่อยู่ (ที่อยู่ตามภูมิลำเนา)</b>
                    </td>
                </tr>
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
                <tr>
                    <td align="center"><table style="width:100%">
                
                        <tr>
                            <td align="right" class='CustomLayout1'>
                                No. / Soi / Road (บ้านเลขที่ / ซอย / ถนน)
                            </td>
                            <td> : </td>
                            <td class='CustomLayout1'>
                                <input type="text" id="street" ng-model="account.billingstreet">
                                <label id='streetResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                District (อำเภอ / เขต)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="city" ng-model="account.billingcity">
                                <label id='cityResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Province (จังหวัด)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="state" ng-model="account.billingstate">
                                <label id='stateResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Postal Code (รหัสไปรษณีย์)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="postcode" ng-model="account.billingpostalcode" onkeyup="isNumber(this)">
                                <label id='postcodeResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Country (ประเทศ)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="country" ng-model="account.billingcountry">
                                <label id='countryResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                    </table></td>
                    
                </tr>
                
                <!-- Address Information -->
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
            </table>
            
            <table style="width:100%">
            
                <!-- Parent Information -->
                
                <tr style="background-color: #C80000">
                    <td colspan="3" align="left">
                        <b style="color:white">Parent Information / ชื่อผู้ปกครอง</b>
                    </td>
                </tr>
                
                <tr style="height:5px">
                    <td colspan="3"></td>
                </tr>
                
                <tr>
                    <td align="center"><table style="width:100%">
                
                        <tr>
                            <td align="right" class='CustomLayout1'>
                                Parent Name /ชื่อผู้ปกครอง
                            </td>
                            <td> : </td>
                            <td class='CustomLayout1'>
                            	<input type="text" id="parent" ng-model="account.parent_name__c"/>
                            	<label id='parentResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                Parent Telephone /เบอร์ติดต่อผู้ปกครอง
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="parentPhone" ng-model="account.parent_phone__c" onkeyup="isNumber(this)">
                                <label id='parentPhoneResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr>
                            <td align="right">
                                Parent Income (per year) /รายได้ผู้ปกครอง (ต่อปี)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="parentIncome" ng-model="account.parent_income__c" onkeyup="isNumber(this)">
                                <label id='parentIncomeResult' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                        <tr style="height:5px">
                    		<td colspan="3"></td>
                		</tr>
                
                        
                        <tr>
                            <td align="right" class='CustomLayout1'>
                                Parent Name(2) /ชื่อผู้ปกครอง (2)
                            </td>
                            <td> : </td>
                            <td class='CustomLayout1'>
                            	<input type="text" id="parent2" ng-model="account.parent_name_2__c" />
                            	<label id='parent2Result' style="font-color:red"></label>
                            </td>
                        </tr>
                        <tr>
                            <td align="right">
                                Parent Telephone(2) /เบอร์ติดต่อผู้ปกครอง (2)
                            </td>
                            <td> : </td>
                            <td>
                                <input type="text" id="parentPhone2" ng-model="account.parent_phone_2__c" onkeyup="isNumber(this)">
                                <label id='parentPhone2Result' style="font-color:red"></label>
                            </td>
                        </tr>
                        
                    </table></td>
                
                </tr>
                
                <!-- Parent Information -->
                
            </table>
            
                <br/><br/><center>
                    <button onclick="update();" >Save</button>
                </center><br/><br/>
                    
        </div>
        
	</body>
</html>